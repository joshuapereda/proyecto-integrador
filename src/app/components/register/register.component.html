<div class="register-container">
  <div class="hero-image">
    <img src="../assets/imgs/authentication.svg" class="fondo" alt="Todoist app screenshot">
  </div>

  <div class="form-container">
    <mat-card>
      <div class="logo-container">
        <img src="../assets/imgs/logoTem.png" class="logoTem" alt="Logo">
      </div>
      <mat-card-header class="card-header">
        <mat-card-title class="title-center" style="color: rgb(0, 0, 0);">REGISTRATE</mat-card-title>
      </mat-card-header>
      
      <mat-card-content>
        <br>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

          <mat-form-field appearance="fill">
            <mat-label >Nombre</mat-label>
            <input matInput formControlName="name" required>
            <mat-error *ngIf="registerForm.get('name')?.hasError('required')">El nombre es obligatorio</mat-error>
            <mat-error *ngIf="registerForm.get('name')?.hasError('minlength')">El nombre debe tener al menos 4 caracteres</mat-error>
            <mat-error *ngIf="registerForm.get('name')?.hasError('pattern')">El nombre no puede tener numeros ni caracteres especiales</mat-error>
            <mat-icon mat-icon-button matSuffix class="custom-icon">person</mat-icon>
          </mat-form-field>
           <!--falta validar  -->
           <mat-form-field appearance="fill">
            <mat-label >Usuario</mat-label>
            <input matInput formControlName="userName" required>
            <mat-error *ngIf="registerForm.get('userName')?.hasError('required')">El nombre de usuario es obligatorio</mat-error>
            <mat-error *ngIf="registerForm.get('userName')?.hasError('minlength')">El nombre de usuario debe tener al menos 6 caracteres</mat-error>
            <mat-error *ngIf="registerForm.get('userName')?.hasError('maxlength')">El nombre de usuario puede tener como max. 30 caracteres</mat-error>
            <mat-error *ngIf="registerForm.get('userName')?.hasError('existeUserName')">
              El nombre de usuario ya existe
            </mat-error>
            <mat-icon matSuffix class="custom-icon">account_circle</mat-icon>
          </mat-form-field>
           <!---------------------------------------------------------->
          <mat-form-field appearance="fill">
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="email" required>
            <mat-error *ngIf="registerForm.get('email')?.hasError('required')">Se requiere correo electrónico</mat-error>
            <mat-error *ngIf="registerForm.get('email')?.hasError('email')">Por favor, introduzca un correo electrónico válido</mat-error>
            <mat-error *ngIf="registerForm.get('email')?.hasError('existeEmail')">
              El correo electrónico ya existe
            </mat-error>
            <mat-icon mat-icon-button matSuffix class="custom-icon">email</mat-icon>

          </mat-form-field>
          <!--falta validar que solo acepte  8 caracteres y solo numeros -->
          <mat-form-field appearance="fill">
            <mat-label>DNI</mat-label>
            <input matInput formControlName="dni" required>
            <mat-error *ngIf="registerForm.get('dni')?.hasError('required')">El DNI es obligatorio</mat-error>
            <mat-error *ngIf="registerForm.get('dni')?.hasError('pattern')">Por favor, introduzca un DNI válido</mat-error>
            <mat-error *ngIf="registerForm.get('dni')?.hasError('existeDni')">
              El dni ya existe
            </mat-error>
            <mat-icon matSuffix class="custom-icon">credit_card</mat-icon>
          </mat-form-field>
           <!---------------------------------------------------------->
          <mat-form-field appearance="fill">
            <mat-label>Contraseña</mat-label>
            <input matInput type="password" formControlName="password" required>
            <mat-error *ngIf="registerForm.get('password')?.hasError('required')">Se requiere contraseña</mat-error>
            <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">La contraseña debe tener al menos 6 caracteres</mat-error>
            <mat-error *ngIf="registerForm.get('password')?.hasError('pattern')">Por favor, introduzca una clave más segura</mat-error>
            <mat-icon mat-icon-button matSuffix class="custom-icon">lock_outline</mat-icon>
          </mat-form-field>


          <button mat-raised-button style="background-color:#e84c3d; color: rgb(255, 255, 255);" type="submit" [disabled]="!registerForm.valid">REGISTRAR</button>
        </form>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button (click)="navigateToLogin()" style=" color: #e84c3d;">¿Ya tienes una cuenta? Iniciar sesión</button>
      </mat-card-actions>
    </mat-card>
  </div>

</div>
